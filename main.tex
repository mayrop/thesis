%////////////////////////////////////////////////////////////////////////
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%////////////////////////////////////////////////////////////////////////

\documentclass[
12pt, 
english, 
oneside,
doublespacing, % Single line spacing, alternatives: onehalfspacing or doublespacing
%draft, % Uncomment to enable draft mode (no pictures, no links, overfull hboxes indicated)
%nolistspacing, % If the document is onehalfspacing or doublespacing, uncomment this to set spacing in lists to single
%liststotoc, % Uncomment to add the list of figures/tables/etc to the table of contents
%toctotoc, % Uncomment to add the main table of contents to the table of contents
%parskip, % Uncomment to add space between paragraphs
%nohyperref, % Uncomment to not load the hyperref package
%headsepline, % Uncomment to get a line under the header
%chapterinoneline, % Uncomment to place the chapter title next to the number on one line
%consistentlayout, % Uncomment to change the layout of the declaration, abstract and acknowledgements pages to match the default layout
]{Thesis} % The class file specifying the document structure

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters
\usepackage{luacode}

% Use the bibtex backend with the authoryear citation style (which resembles APA)
\usepackage[backend=bibtex,style=authoryear,natbib=true]{biblatex}

% Required to generate language-dependent quotes in the bibliography
\usepackage[autostyle=true]{csquotes}

% Usage of python inside latex
\usepackage[gobble=auto]{pythontex}
\usepackage{pythontex}

% https://stackoverflow.com/questions/1673942/latex-table-positioning
\usepackage{float}
% \restylefloat{table}

% https://tex.stackexchange.com/questions/33510/how-do-i-create-the-headings-for-this-multirow-multicolum-table
\usepackage{graphicx}% http://ctan.org/pkg/graphicx
\usepackage{multirow}% http://ctan.org/pkg/multirow
\usepackage{tabularx,ragged2e,caption}
\addbibresource{example.bib} % The filename of the bibliography

%////////////////////////////////////////////////////////////////////////
%	MARGIN SETTINGS
%////////////////////////////////////////////////////////////////////////

\geometry{
	paper=a4paper, % Change to letterpaper for US letter
	inner=2.5cm, % Inner margin
	outer=3.8cm, % Outer margin
	bindingoffset=.5cm, % Binding offset
	top=1.5cm, % Top margin
	bottom=1.5cm, % Bottom margin
	%showframe, % Uncomment to show how the type block is set on the page
}

%////////////////////////////////////////////////////////////////////////
%	THESIS INFORMATION
%////////////////////////////////////////////////////////////////////////

\thesistitle{Thesis Title}
\supervisor{Dr. James \textsc{Smith}}
\examiner{}
\degree{MSc}
\author{Mayra \textsc{Vald√©s}}
\addresses{}

\subject{Data sAnalytics}
\keywords{}
\university{\href{http://www.university.com}{University Name}}
\department{\href{http://department.university.com}{Department or School Name}}
\group{\href{http://researchgroup.university.com}{Research Group Name}}
\faculty{\href{http://faculty.university.com}{Faculty Name}}

\AtBeginDocument{
\hypersetup{pdftitle=\ttitle}
\hypersetup{pdfauthor=\authorname}
\hypersetup{pdfkeywords=\keywordnames}
}

\begin{document}

\frontmatter % Use roman page numbering style (i, ii, iii, iv...) for the pre-content pages

\begin{tabular}{c@{\qquad}ccc@{\qquad}cccc}
	\toprule
	\multirow{2}{*}{\raisebox{-\heavyrulewidth}{Title}} & \multicolumn{3}{c}{Category~A} & \multicolumn{4}{c}{Category~B} \\
	\cmidrule{2-8}
	& Item 1 & Item~2 & Item~3 & Item~1 & Item~2 & Item~3 & Item~4 \\
	\midrule
	$X$ & 1 & 2 & 3 & 1 & 2 & 3 & 3 \\
	$Y$ & 1 & 2 & 3 & 1 & 2 & 3 & 143 \\
	\bottomrule
\end{tabular}

\begin{luacode}
	function read(file)
		local handler = io.open(file, "rb")
		local content = handler:read("*all")
		handler:close()
		return content
	end
	JSON = (loadfile "JSON.lua")()
	X = JSON:decode(read("./test.json"))
\end{luacode}

\pagestyle{plain} % Default to the plain heading style 

\include{Sections/FrontPage}
\include{Sections/DeclarationOfAuthorship}
\include{Sections/Quotation}
\include{Sections/Abstract}
\include{Sections/Acknowledgements}
\include{Sections/ListOfContents}
\include{Sections/Abbreviations}
\include{Sections/PhysicalConstants}
\include{Sections/Symbols}
\include{Sections/Dedication}

% C h a p t e r s
\mainmatter % Begin numeric (1,2,3...) page numbering

\directlua{tex.print(X['recipe']['title'])}

\include{Chapters/Chapter1}
%\include{Chapters/Chapter2} 
%\include{Chapters/Chapter3}
%\include{Chapters/Chapter4} 
%\include{Chapters/Chapter5} 

%////////////////////////////////////////////////////////////////////////
%	THESIS CONTENT - APPENDICES
%////////////////////////////////////////////////////////////////////////

\appendix % Cue to tell LaTeX that the following "chapters" are Appendices

\include{Appendices/AppendixA}
%\include{Appendices/AppendixB}
%\include{Appendices/AppendixC}

%////////////////////////////////////////////////////////////////////////
%	BIBLIOGRAPHY
%////////////////////////////////////////////////////////////////////////

\printbibliography[heading=bibintoc]

%////////////////////////////////////////////////////////////////////////

\end{document}  
